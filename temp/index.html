<!doctype html>
<html lang="hi">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>‡§¨‡§æ‡§∞‡§π‡§ñ‡§°‡§º‡•Ä Quiz (Kruti Dev)</title>
  <style>
    body {
      margin: 0;
      padding: 20px;
      font-family: Arial, sans-serif;
      background: #101826;
      color: #eee;
      display: flex;
      justify-content: center;
      align-items: center;
      flex-direction: column;
      min-height: 100vh;
    }
    .container {
        width: 100%;
        max-width: 500px;
        padding: 0 10px;
    }
    h1 {
      font-size: 1.6rem;
      margin-bottom: 20px;
      text-align: center;
    }
    .card {
      background: #1c2433;
      padding: 24px;
      border-radius: 12px;
      margin-bottom: 20px;
      box-shadow: 0 4px 10px rgba(0, 0, 0, 0.2);
    }
    #questionBox {
      font-size: 2.5rem;
      text-align: center;
      font-weight: bold;
      margin-bottom: 20px;
      min-height: 40px;
    }
    input {
      width: 100%;
      padding: 12px;
      font-size: 1.2rem;
      border-radius: 8px;
      border: 2px solid #333;
      margin-top: 10px;
      box-sizing: border-box;
      transition: border-color 0.3s;
      color: #000;
      background: #fff;
    }
    input:focus {
      outline: none;
      border-color: #6ee7b7;
    }
    button {
      width: 100%;
      margin-top: 15px;
      padding: 12px 14px;
      font-size: 1.1rem;
      border: none;
      border-radius: 8px;
      cursor: pointer;
      background: #6ee7b7;
      color: #022;
      font-weight: bold;
      transition: background-color 0.2s, transform 0.1s;
    }
    button:hover {
      background: #4cd5a0;
    }
    button:active {
      transform: scale(0.99);
    }
    .result {
      margin-top: 15px;
      font-size: 1.2rem;
      text-align: center;
    }
    .progress-box {
      font-size: 1.1rem;
      text-align: center;
    }
    .progress-box span {
        font-weight: bold;
        color: #6ee7b7;
    }
  </style>
</head>
<body>
  <div class="container">
    <h1>‡§¨‡§æ‡§∞‡§π‡§ñ‡§°‡§º‡•Ä Typing Practice</h1>
    <div class="card">
      <div id="questionBox">‡§™‡•ç‡§∞‡§∂‡•ç‡§® ‡§Ø‡§π‡§æ‡§Å ‡§Ü‡§è‡§ó‡§æ</div>
      <input id="answer" placeholder="‡§Ø‡§π‡§æ‡§Ç Kruti Dev key ‡§ü‡§æ‡§á‡§™ ‡§ï‡§∞‡•á‡§Ç" />
      <button id="submit">Submit</button>
      <div class="result" id="result"></div>
    </div>
    <div class="card progress-box">
      <div><strong>Progress:</strong> <span id="progress">0</span>/<span id="total"></span></div>
    </div>
  </div>

  <script>
    // consonant mapping (Kruti Dev keys)
    const consonantMap = {
      '‡§ï':'d','‡§ñ':'[k','‡§ó':'x','‡§ò':'?k','‡§ö':'p','‡§õ':'N','‡§ú':'t','‡§ù':'>','‡§ü':'V','‡§†':'B','‡§°':'M','‡§¢':'<','‡§£':'.k','‡§§':'r','‡§•':'F','‡§¶':'n','‡§ß':'/k','‡§®':'u','‡§™':'i','‡§´':'Q','‡§¨':'c','‡§≠':'Hk','‡§Æ':'e','‡§Ø':';','‡§∞':'j','‡§≤':'y','‡§µ':'o','‡§∂':'\'k','‡§∑':'"k','‡§∏':'l','‡§π':'g','‡§ï‡•ç‡§∑':'{k','‡§§‡•ç‡§∞':'=','‡§ú‡•ç‡§û':'K'
    };

    // vowel matras mapping
    const matras = [
      {sfx:'', key:'' , label:'‡§Ö'},
      {sfx:'‡§æ', key:'k', label:'‡§Ü'},
      {sfx:'‡§ø', key:'f', label:'‡§á', pre:true},
      {sfx:'‡•Ä', key:'h', label:'‡§à'},
      {sfx:'‡•Å', key:'q', label:'‡§â'},
      {sfx:'‡•Ç', key:'w', label:'‡§ä'},
      {sfx:'‡•É', key:'`', label:'‡§ã'},
      {sfx:'‡•á', key:'s', label:'‡§è'},
      {sfx:'‡•à', key:'S', label:'‡§ê'},
      {sfx:'‡•ã', key:'ks', label:'‡§ì'},
      {sfx:'‡•å', key:'kS', label:'‡§î'},
      {sfx:'‡§Ç', key:'a', label:'‡§Ö‡§Ç'},
      {sfx:':', key:'|', label:'‡§Ö‡§É'},
      {sfx:'‡•ç', key:'~', label:'‡§π‡§≤‡§Ç‡§§'}
    ];

    let questions = [];
    let current = 0;
    let total = 0;

    function buildQuestions() {
      questions = [];
      for(const [cons, baseKey] of Object.entries(consonantMap)){
        for(const m of matras){
          const form = m.pre ? m.sfx + cons : cons + m.sfx;
          let ans = baseKey;
          if (m.pre) {
            ans = m.key + ans;
          } else {
            ans += m.key;
          }
          questions.push({q:form, a:ans});
        }
      }
      // Shuffle questions
      for(let i=questions.length-1; i>0; i--){
        const j = Math.floor(Math.random()*(i+1));
        [questions[i],questions[j]]=[questions[j],questions[i]];
      }
      total = questions.length;
    }

    function showQuestion(){
      document.getElementById('questionBox').textContent = questions[current].q;
      document.getElementById('answer').value = '';
      document.getElementById('answer').style.borderColor = '#333';
      document.getElementById('result').textContent = '';
      document.getElementById('progress').textContent = current;
    }

    function initQuiz() {
      current = 0;
      buildQuestions();
      document.getElementById('total').textContent = total;
      document.getElementById('answer').style.display = 'block';
      document.getElementById('submit').style.display = 'block';
      showQuestion();
    }

    document.getElementById('submit').addEventListener('click',()=>{
      const ans = document.getElementById('answer').value.trim();
      if(ans === questions[current].a){
        document.getElementById('result').textContent = '‚úÖ ‡§∏‡§π‡•Ä!';
        document.getElementById('answer').style.borderColor = '#4cd5a0';
        current++;
        if(current < total){
          setTimeout(showQuestion, 700);
        } else {
          document.getElementById('questionBox').textContent = 'üéâ ‡§¨‡§ß‡§æ‡§à ‡§π‡•ã, ‡§ï‡•ç‡§µ‡§ø‡§ú ‡§™‡•Ç‡§∞‡§æ ‡§π‡•Å‡§Ü!';
          document.getElementById('answer').style.display = 'none';
          document.getElementById('submit').style.display = 'none';
          document.getElementById('result').textContent = '';
          document.getElementById('progress').textContent = total;

          // Add a "Play Again" button
          const playAgainBtn = document.createElement('button');
          playAgainBtn.textContent = 'Play Again';
          playAgainBtn.id = 'playAgainBtn';
          playAgainBtn.onclick = () => {
              document.querySelector('.card').appendChild(document.getElementById('answer'));
              document.querySelector('.card').appendChild(document.getElementById('submit'));
              playAgainBtn.remove();
              initQuiz();
          };
          document.querySelector('.card').appendChild(playAgainBtn);
        }
      } else {
        document.getElementById('result').textContent = '‚ùå ‡§ó‡§≤‡§§, ‡§´‡§ø‡§∞ ‡§∏‡•á ‡§ï‡•ã‡§∂‡§ø‡§∂ ‡§ï‡§∞‡•á‡§Ç‡•§';
        document.getElementById('answer').style.borderColor = '#f56565';
      }
    });

    // Start the quiz
    initQuiz();
  </script>
</body>
</html>
